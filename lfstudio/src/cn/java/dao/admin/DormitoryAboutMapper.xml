<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.java.dao.admin.DormitoryAboutMapper">
  <resultMap id="BaseResultMap" type="cn.java.entity.DormitoryAbout">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Nov 01 15:32:57 CST 2018.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="pid" jdbcType="INTEGER" property="pid" />
    <result column="month" jdbcType="DATE" property="month" />
    <result column="surpelectric" jdbcType="DOUBLE" property="surpelectric" />
    <result column="amountelectric" jdbcType="DOUBLE" property="amountelectric" />
    <result column="hygiene" jdbcType="DOUBLE" property="hygiene" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Nov 01 15:32:57 CST 2018.
    -->
    delete from dormitory_about
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <delete id="deleteByPidAll" parameterType="java.lang.Integer">
  	delete from dormitory_about
    where pid = #{pid,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="cn.java.entity.DormitoryAbout">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Nov 01 15:32:57 CST 2018.
    -->
    insert into dormitory_about (id, pid, month, 
      surpelectric, amountelectric, hygiene
      )
    values (#{id,jdbcType=INTEGER}, #{pid,jdbcType=INTEGER}, #{month,jdbcType=DATE}, 
      #{surpelectric,jdbcType=DOUBLE}, #{amountelectric,jdbcType=DOUBLE}, #{hygiene,jdbcType=DOUBLE}
      )
  </insert>
  <insert id="insertmore" parameterType="cn.java.entity.DormitoryAbout">
  	insert into dormitory_about ( pid, month, 
      surpelectric, amountelectric, hygiene
      )
    values 
    <foreach collection="list" item="item" separator="," >
    	( #{item.pid,jdbcType=INTEGER}, #{item.month,jdbcType=DATE}, 
      #{item.surpelectric,jdbcType=DOUBLE}, #{item.amountelectric,jdbcType=DOUBLE}, #{item.hygiene,jdbcType=DOUBLE})
    </foreach>
  </insert>
  <update id="updateByPrimaryKey" parameterType="cn.java.entity.DormitoryAbout">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Nov 01 15:32:57 CST 2018.
    -->
    update dormitory_about
    set pid = #{pid,jdbcType=INTEGER},
      month = #{month,jdbcType=DATE},
      surpelectric = #{surpelectric,jdbcType=DOUBLE},
      amountelectric = #{amountelectric,jdbcType=DOUBLE},
      hygiene = #{hygiene,jdbcType=DOUBLE}
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updatehygiene" parameterType="java.util.List">
  	UPDATE dormitory_about 
    SET hygiene = CASE id
    <foreach collection="list" item="item" index="index" separator=" ">
     	when #{item.aboutid,jdbcType=INTEGER} then #{item.abouthygiene,jdbcType=DOUBLE}
	</foreach>
    END
	where id IN 
	<foreach collection="list" index="index" item="item" separator="," open="(" close=")">
	 #{item.aboutid,jdbcType=INTEGER}
	</foreach>
  </update>
  <update id="updatemongthday" parameterType="java.util.List">
  	UPDATE dormitory_about 
    SET month = CASE id
    <foreach collection="list" item="item" index="index" separator=" ">
     	when #{item.id,jdbcType=INTEGER} then #{item.month,jdbcType=DATE}
	</foreach>
    END
	where id IN 
	<foreach collection="list" index="index" item="item" separator="," open="(" close=")">
	 #{item.id,jdbcType=INTEGER}
	</foreach>
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Nov 01 15:32:57 CST 2018.
    -->
    select id, pid, month, surpelectric, amountelectric, hygiene
    from dormitory_about
    where id = #{id,jdbcType=INTEGER}
  </select>
  <select id="selectAllGroupby" resultMap="BaseResultMap">
  	select * FROM dormitory_about
	GROUP BY pid
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Nov 01 15:32:57 CST 2018.
    -->
    select id, pid, month, surpelectric, amountelectric, hygiene
    from dormitory_about
    ORDER BY month  ASC
  </select>
  <select id="selectAllDesc" resultMap="BaseResultMap" parameterType="java.lang.Integer">
  	select id, pid, month, surpelectric, amountelectric, hygiene
    from dormitory_about
    where pid = #{pid,jdbcType=INTEGER}
  </select>
  <select id="selecByPidtAll" resultMap="BaseResultMap" parameterType="java.lang.Integer">
    select id, pid, month, surpelectric, amountelectric, hygiene
    from dormitory_about
    where pid = #{pid,jdbcType=INTEGER}
    ORDER BY month  ASC
  </select>
  <select id="selectAllDescTop" resultMap="BaseResultMap" parameterType="java.lang.Integer">
	select id, pid, month, surpelectric, amountelectric, hygiene
    from dormitory_about
    where pid = #{pid,jdbcType=INTEGER}
    ORDER BY month  desc
    limit 1
  </select>
</mapper>